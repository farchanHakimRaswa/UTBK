(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a74e9c4"],{"2db4":function(e,t,s){"use strict";s("caad"),s("a9e3");var i=s("ade3"),a=(s("ca71"),s("8dd9")),r=s("a9ad"),n=s("7560"),o=s("f2e7"),l=s("fe6c"),u=s("58df"),c=s("80d2"),d=s("d9bd");t["a"]=Object(u["a"])(a["a"],r["a"],o["a"],Object(l["b"])(["absolute","bottom","left","right","top"])).extend({name:"v-snackbar",props:{app:Boolean,centered:Boolean,contentClass:{type:String,default:""},multiLine:Boolean,text:Boolean,timeout:{type:[Number,String],default:5e3},transition:{type:[Boolean,String],default:"v-snack-transition",validator:function(e){return"string"===typeof e||!1===e}},vertical:Boolean},data:function(){return{activeTimeout:-1}},computed:{classes:function(){return{"v-snack--absolute":this.absolute,"v-snack--active":this.isActive,"v-snack--bottom":this.bottom||!this.top,"v-snack--centered":this.centered,"v-snack--has-background":this.hasBackground,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--text":this.text,"v-snack--top":this.top,"v-snack--vertical":this.vertical}},hasBackground:function(){return!this.text&&!this.outlined},isDark:function(){return this.hasBackground?!this.light:n["a"].options.computed.isDark.call(this)},styles:function(){if(this.absolute)return{};var e=this.$vuetify.application,t=e.bar,s=e.bottom,i=e.footer,a=e.insetFooter,r=e.left,n=e.right,o=e.top;return{paddingBottom:Object(c["f"])(s+i+a),paddingLeft:this.app?Object(c["f"])(r):void 0,paddingRight:this.app?Object(c["f"])(n):void 0,paddingTop:Object(c["f"])(t+o)}}},watch:{isActive:"setTimeout",timeout:"setTimeout"},mounted:function(){this.isActive&&this.setTimeout()},created:function(){this.$attrs.hasOwnProperty("auto-height")&&Object(d["e"])("auto-height",this),0==this.timeout&&Object(d["d"])('timeout="0"',"-1",this)},methods:{genActions:function(){return this.$createElement("div",{staticClass:"v-snack__action "},[Object(c["l"])(this,"action",{attrs:{class:"v-snack__btn"}})])},genContent:function(){return this.$createElement("div",{staticClass:"v-snack__content",class:Object(i["a"])({},this.contentClass,!0),attrs:{role:"status","aria-live":"polite"}},[Object(c["l"])(this)])},genWrapper:function(){var e=this.hasBackground?this.setBackgroundColor:this.setTextColor,t=e(this.color,{staticClass:"v-snack__wrapper",class:a["a"].options.computed.classes.call(this),directives:[{name:"show",value:this.isActive}]});return this.$createElement("div",t,[this.genContent(),this.genActions()])},genTransition:function(){return this.$createElement("transition",{props:{name:this.transition}},[this.genWrapper()])},setTimeout:function(){var e=this;window.clearTimeout(this.activeTimeout);var t=Number(this.timeout);this.isActive&&![0,-1].includes(t)&&(this.activeTimeout=window.setTimeout((function(){e.isActive=!1}),t))}},render:function(e){return e("div",{staticClass:"v-snack",class:this.classes,style:this.styles},[!1!==this.transition?this.genTransition():this.genWrapper()])}})},c66d:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("UserNavbar",{attrs:{pageTitle:e.pageName}}),s("v-container",[s("v-form",{ref:"profileForm",staticClass:"pt-8 pb-8",model:{value:e.isProfileFormvalid,callback:function(t){e.isProfileFormvalid=t},expression:"isProfileFormvalid"}},[s("h3",[e._v("Data Diri")]),s("v-text-field",{attrs:{label:"Nama",type:"text",value:null==e.userProfile.name?"":e.userProfile.name,rules:this.$commonInputRules.nameRules,required:""},model:{value:e.userProfile.name,callback:function(t){e.$set(e.userProfile,"name",t)},expression:"userProfile.name"}}),s("v-text-field",{attrs:{label:"Username",type:"text",value:null==e.userProfile.username?"":e.userProfile.username,rules:this.$commonInputRules.usernameRules,required:""},model:{value:e.userProfile.username,callback:function(t){e.$set(e.userProfile,"username",t)},expression:"userProfile.username"}}),s("v-text-field",{attrs:{label:"NISN",type:"text",value:null==e.userProfile.nisn?"":e.userProfile.nisn,required:""},model:{value:e.userProfile.nisn,callback:function(t){e.$set(e.userProfile,"nisn",t)},expression:"userProfile.nisn"}}),s("v-text-field",{attrs:{label:"Email",type:"email",value:null==e.userProfile.email?"":e.userProfile.email,rules:this.$commonInputRules.emailRules,required:""},model:{value:e.userProfile.email,callback:function(t){e.$set(e.userProfile,"email",t)},expression:"userProfile.email"}}),s("v-text-field",{attrs:{label:"Asal Sekolah",type:"text",value:null==e.userProfile.origin?"":e.userProfile.origin,rules:this.$commonInputRules.originRules,required:""},model:{value:e.userProfile.origin,callback:function(t){e.$set(e.userProfile,"origin",t)},expression:"userProfile.origin"}}),s("v-text-field",{attrs:{label:"No Telepon",type:"text",value:null==e.userProfile.phone?"":e.userProfile.phone,rules:this.$commonInputRules.phoneNumRules,required:""},model:{value:e.userProfile.phone,callback:function(t){e.$set(e.userProfile,"phone",t)},expression:"userProfile.phone"}}),s("v-btn",{staticClass:"warning",attrs:{type:"submit",disabled:!e.isProfileFormvalid||e.isEditProfileLoading},on:{click:function(t){return t.preventDefault(),e.editProfile()}}},[e._v("Ubah Data Diri")])],1),s("v-form",{staticClass:"pb-8",model:{value:e.isPasswordFormValid,callback:function(t){e.isPasswordFormValid=t},expression:"isPasswordFormValid"}},[s("h3",[e._v("Ubah Password")]),s("v-text-field",{attrs:{label:"Password Lama",type:"password",required:""},model:{value:e.oldPassword,callback:function(t){e.oldPassword=t},expression:"oldPassword"}}),s("v-text-field",{attrs:{label:"Password Baru",type:"password",rules:this.$commonInputRules.passwordRules,required:""},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}}),s("v-text-field",{attrs:{label:"Konfirmasi Password Baru",type:"password",rules:e.getPasswordConfirmationRules,required:""}}),s("v-btn",{staticClass:"warning",attrs:{type:"submit",disabled:!e.isPasswordFormValid||e.isEditPasswordLoading},on:{click:function(t){return t.preventDefault(),e.editPassword()}}},[e._v("Ubah Password")])],1)],1),s("v-snackbar",{attrs:{bottom:!0,timeout:3e3},scopedSlots:e._u([{key:"action",fn:function(t){var i=t.attrs;return[s("v-btn",e._b({attrs:{dark:"",text:""},on:{click:function(t){e.isSnackbarShown=!1}}},"v-btn",i,!1),[e._v("Tutup")])]}}]),model:{value:e.isSnackbarShown,callback:function(t){e.isSnackbarShown=t},expression:"isSnackbarShown"}},[e._v(" "+e._s(e.snackbarMessage)+" ")])],1)},a=[],r=(s("96cf"),s("1da1")),n=s("f5ef"),o=s("98df"),l=s("d839"),u=s("ef1b"),c={name:"Profile",components:{UserNavbar:l["a"]},data:function(){return{isProfileFormvalid:!1,isEditProfileLoading:!1,isPasswordFormValid:!1,isEditPasswordLoading:!1,isSnackbarShown:!1,snackbarMessage:"",pageName:"Profil",userProfile:new o["a"],oldPassword:"",newPassword:""}},methods:{emitSessionEnd:function(){n["a"].$emit("onSessionEnd","Sesi berakhir. Mohon login ulang.")},showSnackbar:function(e){this.snackbarMessage=e,this.isSnackbarShown=!0},fetchUserDetail:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,t.$store.dispatch("user/getDetail",e);case 3:i=s.sent,200===i.status&&(t.userProfile=i.data.detail),s.next=10;break;case 7:s.prev=7,s.t0=s["catch"](0),t.isSessionOver?t.emitSessionEnd():t.showSnackbar(t.getDefaultErrorMessage());case 10:case"end":return s.stop()}}),s,null,[[0,7]])})))()},editProfile:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isEditProfileLoading=!0,t.prev=1,t.next=4,e.$store.dispatch("user/editProfile",e.userProfile);case 4:s=t.sent,200===s.status&&(e.$store.dispatch("auth/update",s.data.result),n["a"].$emit("onProfileUpdated"),e.showSnackbar("Profil berhasil diperbarui.")),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),e.isSessionOver?e.emitSessionEnd():e.showSnackbar(e.getDefaultErrorMessage());case 11:e.isEditProfileLoading=!1;case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()},editPassword:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isEditPasswordLoading=!0,s={id:e.userProfile.id,oldPassword:e.oldPassword,newPassword:e.newPassword},t.prev=2,t.next=5,e.$store.dispatch("user/editPassword",s);case 5:i=t.sent,200===i.status&&(e.snackbarMessage="Password berhasil diperbarui.",e.isSnackbarShown=!0),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),e.isSessionOver?e.emitSessionEnd():e.showSnackbar(e.getDefaultErrorMessage());case 12:e.isEditPasswordLoading=!1;case 13:case"end":return t.stop()}}),t,null,[[2,9]])})))()}},computed:{getUserDetail:function(){return this.$store.getters["user/userProfileData"]},getUserId:function(){return this.$store.getters["auth/userId"]},getPasswordConfirmationRules:function(){var e=this;return[function(t){return(!!t&&t)===e.newPassword||"Masukkan password yang sama."}]}},created:function(){this.getUserDetail?this.userProfile=this.getUserDetail:this.fetchUserDetail(this.getUserId)},mixins:[u["a"]]},d=c,f=s("2877"),h=s("6544"),m=s.n(h),p=s("8336"),v=s("a523"),b=s("4bd4"),P=s("2db4"),w=s("8654"),g=Object(f["a"])(d,i,a,!1,null,null,null);t["default"]=g.exports;m()(g,{VBtn:p["a"],VContainer:v["a"],VForm:b["a"],VSnackbar:P["a"],VTextField:w["a"]})},ca71:function(e,t,s){}}]);
//# sourceMappingURL=chunk-4a74e9c4.baede81d.js.map